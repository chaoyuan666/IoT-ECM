# 基于物联网技术的电能耗远程采集系统

## 项目简介

随着中国制造2025的快速推进，社会各界对于电能的需求不断增加。这对国家电力系统的调配提出了更高的要求，设计出一套基于物联网技术能实时监测电网运行情况的电能耗远程采集系统越来越重要。本项目采用物联网目前主流的技术，实现了电能耗数据的实时获取，同时通过Web页面以数据可视化的方式动态实时显示。当数据出现异常时，Web页面将会显示出电网调配建议。

基于物联网技术的电能耗远程采集系统分为终端节点与服务器两个部分。其中，终端节点使用STM32作为主控，使用RS485接口通过Modbus、DL/T 645-1997协议实时采集电能耗信息。主控将采集到的数据进行数据处理后上传数据，提高了系统中数据的准确度。在云服务器中搭建了MQTT服务器、MySQL数据库以及Web服务器。通过使用MQTT服务器实现了本系统的数据传输，MySQL数据库实现了数据的持久化。在Web服务器中通过使用Django框架、Pyecharts组件和Ajax技术实现了数据可视化。

本项目实现了电能耗数据采集、数据传输以及数据分析处理，可通过Web界面以数据大屏的形式实时显示。

## 系统方案设计

电能耗远程采集系统的整体功能可以分为电能耗信息采集、数据远程传输、数据分析与呈现三个部分，基于物联网技术的电能耗远程采集系统的整体框架如下图所示。

![](https://raw.githubusercontent.com/chaoyuan666/tuChuang/master/blog/image-20230529195644349.png)



### 电能耗信息采集

电能耗信息采集部分是由软件和硬件这两部分组成。其中，硬件部分通过使用相关的电能耗采集传感器来获取电网运行参数，软件部分主要体现在通过对主控编程实现电能耗采集模块的数据获取。

根据系统的需求分析可知，该系统需要定时采集电能耗信息，对数据进行数据处理后上传至服务器。

本系统的数据处理部分，需要在自己的主控芯片上进行，因此该部分的设计中会涉及短距离通信。主控芯片通过特定的通信方式来获取传感器模块所采集的数据，并以定时采集数据的方式，实现系统长期监测电网运行状态的目的。

### 数据远程传输

数据远程传输部分是在电能耗信息采集和数据分析呈现之间建立的通信连接，对传感器信息采集到的数据进行高效、稳定和安全的传输。数据远程传输部分在整个系统的设计中必不可少。

在物联网领域中，通信技术种类繁多。无线通信技术主要分为两类：一类是短距离通信技术，另一类则是低功率广域网LPWAN。其中短距离通信技术主要包括UWB、 WiFi、Bluetooth、NFC等。低功率广域网主要包括NB-IoT、LoRa等。

对于上述两类无线通信技术而言，短距离通信技术的通信距离限制了应用场景。随着4G/5G技术的迅速推广，GPRS/GSM 现在出现了退网的危机。目前，在物联网领域中发展趋势比较好的就是低功率广域网，既满足了通信距离的要求，也满足了低功率的要求。

NB-IoT可以直接在运营商通信网络的基础上进行部署，有效的降低了通信成本，同时通信的范围以及通信的安全性都得到了保障。其网络节点数量多，保证了该技术低功耗、远距离传输，能够满足电能耗远程采集系统需求。

因此，在该项目的数据远程传输部分拟采用NB-IoT物联网通信技术，同时使用物联网低带宽的通信协议，来进一步减少不必要的网络流量，进而提升通信质量。

### 数据分析与呈现

在数据分析与呈现这部分的设计中，需要充分考虑到目前电力系统行业真正的需求。因此，该设计最终需要呈现出一个能够实时显示各项电能耗参数指标的终端，当其中的某些指标偏离正常值时，终端能够及时显示出合理化的建议，让用户及时调节电网运行参数，进而提升电网运行质量。

其中，终端显示的参数不仅仅是电参数信息，还需要呈现出一些电网运行参数。因此，该部分的设计需要包含数据处理。通过使用相关的电网运行参数计算公式，计算出所需要的电网运行参数。在该项目中，数据分析与呈现的平台拟采用搭建云服务器来实现。通过后台服务器实现数据处理与数据分析，最终使用Web服务器来实现电能耗数据的实时显示以及合理化建议的显示。

该系统从众多的电网运行参数中选择了其中的一部分作为重点关注的指标，例如负载率、电压合格率、三相不平衡度、电力系统频率偏差等。

### 具体实现方案

为实现基于物联网技术的电能耗远程采集系统，该系统使用电力系统提出的泛在电力物联网建设的技术架构，包含信息感知层、边缘计算层、网络传输层、平台应用层四部分组成。

其中，信息感知层利用智能传感设备对电网末端运行设备进行实时数据采集、监测和感知，例如：电压、电流、有功功率、无功功率等数据；边缘计算层由电力数据采集终端设备构成，对信息感知层感知的数据进行简单计算和初步处理，同时将处理结果上送至数据中心。通过对数据简单的分析处理，可极大的缓解数据中心处理数据的压力；网络传输层是在信息感知层与平台应用层之间建立通信连接，对所采集到的数据进行高效传输；平台应用层将电网各类数据统一管理、统一处理和应用开发。

通过使用先进的信息处理技术，实现对采集数据的高效利用和综合分析，发挥出更大的数据价值，从而实现泛在电力物联网的真正意义。泛在电力物联网技术架构如下图所示。

![](https://raw.githubusercontent.com/chaoyuan666/tuChuang/master/blog/image-20230529200147469.png)



在基于物联网技术的电能耗远程采集系统的整体开发中分为以下四部分，与泛在电力物联网的技术架构相对应。整个系统的组织结构如下图所示。

![](https://raw.githubusercontent.com/chaoyuan666/tuChuang/master/blog/image-20230529200239385.png)











## 硬件平台搭建

![](https://raw.githubusercontent.com/chaoyuan666/tuChuang/master/blog/image-20230529200345245.png)











## 终端节点软件设计



## 服务器软件设计

本设计中Web服务器的开发使用的是 Django 框架，它是基于Python编程语言来进行开发的。

通过使用Ajax实现动态刷新页面。





项目运行成果图

![](https://raw.githubusercontent.com/chaoyuan666/tuChuang/master/blog/image-20230529200855931.png)